// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.5/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/Error ../../../../core/numberUtils ../../../../Color ../../statistics/support/utils ../../../../symbols/SimpleMarkerSymbol ../../../../symbols/SimpleLineSymbol ../../../../symbols/SimpleFillSymbol ../../../../symbols/PointSymbol3D ../../../../symbols/IconSymbol3DLayer ../../../../symbols/ObjectSymbol3DLayer ../../support/utils ../../../../symbols/MeshSymbol3D ../../../../symbols/FillSymbol3DLayer".split(" "),function(B,f,n,k,p,q,r,t,u,l,v,w,x,y,z){function h(a,
b){return new n(a,b)}function A(a){var b=a.layer;return a.fields.filter(function(a){a=b.getFieldUsageInfo(a);return!a||!a.supportsRenderer})}Object.defineProperty(f,"__esModule",{value:!0});var m=/^(\d+(\.\d+)?)\s*(%)$/i;f.createError=h;f.getDefaultDataRange=function(a,b,d){var c,e;b=q.getSuggestedDataRange({statistics:a,isDate:b});b.defaultValuesUsed?(c=b.min,e=b.max):!d||null!=a.avg&&a.stddev||(c=a.min,e=a.max);return null!=c?[c,e]:null};f.createColors=function(a,b){for(var d=[],c=a.length,e=0;e<
b;e++)d.push(new p(a[e%c]));return d};f.createStopValues=function(a,b){void 0===b&&(b=!0);var d=a.avg,c=d-a.stddev,e=d+a.stddev;c<a.min&&(c=a.min);e>a.max&&(e=a.max);b&&(d=c+(e-c)/2);a=k.round([c,e],{strictBounds:!0});c=a[0];e=a[1];a=[c,c+(d-c)/2,d,d+(e-d)/2,e];return k.round(a,{strictBounds:!0})};f.createSymbol=function(a,b,d,c,e,f){var g;switch(d){case "point":case "multipoint":d=null!=f?f:a.size;"2d"===c?g=new r({color:b,size:d,outline:{color:a.outline.color,width:a.outline.width}}):"3d-flat"===
c?g=new l({symbolLayers:[new v({size:d,resource:{primitive:"circle"},material:{color:b},outline:{color:a.outline.color,size:a.outline.width}})]}):-1<c.indexOf("3d-volumetric")&&(g=new l({symbolLayers:[new w({height:d,resource:{primitive:"3d-volumetric-uniform"===c?"sphere":"cylinder"},material:{color:b}})]}));break;case "polyline":a=null!=f?f:a.width;"2d"===c&&(g=new t({color:b,width:a}));break;case "polygon":"2d"===c&&(g=new u({color:b,outline:{color:a.outline.color,width:a.outline.width}}));break;
case "mesh":g=new y({symbolLayers:[new z({material:{color:b,colorMixMode:e}})]})}return g};f.verifyBasicFieldValidity=function(a,b,d){var c=x.getUnknownFields({layer:a,fields:b});if(c.length)return h(d,"Unknown fields: "+c.join(", ")+". You can only use fields defined in the layer schema");a=A({layer:a,fields:b});if(a.length)return h(d,"Unsupported fields: "+a.join(", ")+". You can only use fields that are accessible to the renderer i.e. FieldUsageInfo.supportsRenderer must be true")};f.isValidPointSize=
function(a){return m.test(a)};f.getPointSizeAlgorithm=function(a){a=a.match(m);var b=Number(a[1]);if("%"===a[3])return{type:"splat",scaleFactor:b/100,minSize:1.1}}});