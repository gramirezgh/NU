// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.5/esri/copyright.txt for details.
//>>built
define(["require","exports","./MaterialKeyInfo","./enums","./MaterialInfo"],function(n,e,k,f,l){function m(a){var c=[];c[0]=a.sdf?!0:!1;c[1]=a.vvSizeMinMaxValue?!0:!1;c[2]=a.vvSizeScaleStops?!0:!1;c[3]=a.vvSizeFieldStops?!0:!1;c[4]=a.vvSizeUnitValue?!0:!1;c[5]=a.vvColor?!0:!1;c[6]=a.vvRotation?!0:!1;c[7]=a.vvOpacity?!0:!1;c[8]=a.visibility?!0:!1;c[9]=a.pattern?!0:!1;c[10]=a.heatmap?!0:!1;return c.reduce(function(a,b,c){b&&(a|=1<<c+2);return a},0)}function h(a){if(a.geometryType===f.WGLGeometryType.UNKNOWN)return-1;
var c=m(a)<<2;return a.geometryType+c}Object.defineProperty(e,"__esModule",{value:!0});e.createTextMaterialInfo=function(a,c){var g=l.pool.acquire(),b=k.pool.acquire();b.geometryType=f.WGLGeometryType.TEXT;b.sdf=!0;b.pattern=!1;b.visibility=!0;b.heatmap=!1;g.texBindingInfo.push({unit:2,pageId:c.page,semantic:"u_texture"});a.vvFields?(b.vvOpacity=null!=a.vvFields.opacity,b.vvSizeMinMaxValue=null!=a.vvFields.size,b.vvColor=null!=a.vvFields.color,b.vvRotation=null!=a.vvFields.rotation):b.vvOpacity=b.vvSizeMinMaxValue=
b.vvColor=b.vvRotation=!1;g.materialKey=h(b);g.materialKeyInfo=b;return g};e.createMaterialInfo=function(a,c,g,b){var e=l.pool.acquire(),d=k.pool.acquire();d.geometryType=g;(c=c.spriteMosaicItem)?(d.sdf=c.sdf,d.pattern=!0,e.texBindingInfo.push({unit:1,pageId:c.page,semantic:"u_texture"})):(d.sdf=!1,d.pattern=!1);0===b?d.vvOpacity=d.vvSizeMinMaxValue=d.vvSizeScaleStops=d.vvSizeFieldStops=d.vvSizeUnitValue=d.vvColor=d.vvRotation=!1:(d.vvOpacity=0!==(b&f.WGLVVFlag.OPACITY),d.vvSizeMinMaxValue=0!==(b&
f.WGLVVFlag.SIZE_MINMAX_VALUE),d.vvSizeScaleStops=0!==(b&f.WGLVVFlag.SIZE_SCALE_STOPS),d.vvSizeFieldStops=0!==(b&f.WGLVVFlag.SIZE_FIELD_STOPS),d.vvSizeUnitValue=0!==(b&f.WGLVVFlag.SIZE_UNIT_VALUE),d.vvColor=0!==(b&f.WGLVVFlag.COLOR),d.vvRotation=0!==(b&f.WGLVVFlag.ROTATION));d.visibility=!1;d.heatmap=null!=a.heatmapInfo;e.materialKey=h(d);e.materialKeyInfo=d;return e};e.getMaterialKey=h;e.getMaterialVariations=function(a){var c=a&3;a>>=2;return{geometryType:c,variations:[0!==(a&1),0!==(a&2),0!==(a&
4),0!==(a&8),0!==(a&16),0!==(a&32),0!==(a&64),0!==(a&128),0!==(a&256),0!==(a&512),0!==(a&1024),0!==(a&2048),0!==(a&4096)]}}});