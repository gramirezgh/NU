// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.5/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Error ../../../core/promiseUtils ../../../core/watchUtils ./TiledLayerView3D ./support/tiledLayerUtils".split(" "),function(n,p,h,d,c,k,f,l,m,g){return function(e){function a(){return null!==e&&e.apply(this,arguments)||this}h(a,e);a.prototype.initialize=function(){var a=this,b=this.get("view.map.ground.layers");b&&-1!==b.indexOf(this.layer)||(b=
new k("layerview:elevation-layer-only","3D elevation layer '"+this.layer.id+"' can only be added in the map ground"),this.addResolvingPromise(f.reject(b)));(b=this._getTileInfoSupportError(this.tileInfo,this.layer.fullExtent))?this.addResolvingPromise(f.reject(b)):(b=l.whenTrueOnce(this.view,"basemapTerrain.tilingSchemeLocked").then(function(){g.throwIfError(a._getTileInfoCompatibilityError(a.tileInfo,a.view.basemapTerrain.tilingScheme))}),this.addResolvingPromise(b));this.addResolvingPromise(g.checkArcGISServiceVersionCompatibility(this.layer));
this.addResolvingPromise(this.getHeightModelInfoResolvingPromise());this._updateMinMaxDataLevel()};d([c.property({aliasOf:"layer.fullExtent"})],a.prototype,"fullExtent",void 0);d([c.property()],a.prototype,"layer",void 0);d([c.property({aliasOf:"layer.tileInfo"})],a.prototype,"tileInfo",void 0);return a=d([c.subclass("esri.views.3d.layers.ElevationLayerView3D")],a)}(c.declared(m))});